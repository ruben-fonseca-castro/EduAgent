# ============================================================
#  Netlify build config for Astra frontend (Next.js SSR)
#  Uses @netlify/plugin-nextjs for full SSR support â€”
#  no static export needed, dynamic routes work out of the box.
# ============================================================

[build]
  command   = "npm run build"
  publish   = ".next"

[[plugins]]
  package = "@netlify/plugin-nextjs"

# Security headers applied to all routes
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options        = "SAMEORIGIN"
    X-Content-Type-Options = "nosniff"
    X-XSS-Protection       = "1; mode=block"
    Referrer-Policy        = "strict-origin-when-cross-origin"
